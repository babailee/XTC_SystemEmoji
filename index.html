<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­—ç¬¦ç»„åˆç”Ÿæˆå™¨ | ä¼˜åŒ–ç‰ˆ</title>
    <style>
        :root {
            --dark-gray: #2c3e50;
            --medium-gray: #34495e;
            --light-gray: #7f8c8d;
            --lightest-gray: #ecf0f1;
            --accent-color: #3498db;
            --warning-color: #e74c3c;
            --success-color: #2ecc71;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--dark-gray), var(--medium-gray));
            color: var(--lightest-gray);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: rgba(44, 62, 80, 0.85);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        header {
            background-color: var(--dark-gray);
            padding: 25px 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            color: var(--lightest-gray);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            color: var(--light-gray);
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .content {
            display: flex;
            flex-wrap: wrap;
            padding: 30px;
        }
        
        .config-panel {
            flex: 1;
            min-width: 300px;
            padding: 25px;
            background-color: rgba(52, 73, 94, 0.6);
            border-radius: 10px;
            margin-right: 20px;
            margin-bottom: 20px;
        }
        
        .result-panel {
            flex: 2;
            min-width: 300px;
            padding: 25px;
            background-color: rgba(52, 73, 94, 0.6);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .panel-title {
            font-size: 1.4rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--light-gray);
            color: var(--lightest-gray);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: var(--lightest-gray);
            font-weight: 500;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--light-gray);
            border-radius: 6px;
            background-color: rgba(236, 240, 241, 0.1);
            color: var(--lightest-gray);
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.3);
        }
        
        button {
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 14px 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: block;
            width: 100%;
            margin-top: 10px;
        }
        
        button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .result-container {
            max-height: 600px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .result-container::-webkit-scrollbar {
            width: 8px;
        }
        
        .result-container::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        
        .result-container::-webkit-scrollbar-thumb {
            background: var(--light-gray);
            border-radius: 10px;
        }
        
        .result-section {
            margin-bottom: 25px;
            background-color: rgba(44, 62, 80, 0.5);
            border-radius: 8px;
            padding: 20px;
        }
        
        .result-header {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--lightest-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .result-content {
            padding: 15px;
            background-color: rgba(52, 73, 94, 0.4);
            border-radius: 6px;
        }
        
        .combo-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-bottom: 1px solid rgba(127, 140, 141, 0.3);
            transition: background-color 0.2s;
        }
        
        .combo-item:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .combo-item:last-child {
            border-bottom: none;
        }
        
        .combo-char {
            font-size: 2.5rem;
            margin-right: 15px;
            min-width: 60px;
            text-align: center;
        }
        
        .combo-details {
            flex: 1;
        }
        
        .combo-formula {
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .combo-info {
            color: var(--light-gray);
            font-size: 0.9rem;
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid rgba(127, 140, 141, 0.3);
        }
        
        .stat-item {
            text-align: center;
            padding: 10px;
            background-color: rgba(44, 62, 80, 0.7);
            border-radius: 6px;
            flex: 1;
            margin: 0 5px;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--accent-color);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--light-gray);
        }
        
        .warning {
            color: var(--warning-color);
            background-color: rgba(231, 76, 60, 0.1);
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 15px;
            border: 1px solid rgba(231, 76, 60, 0.3);
        }
        
        .success {
            color: var(--success-color);
            background-color: rgba(46, 204, 113, 0.1);
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 15px;
            border: 1px solid rgba(46, 204, 113, 0.3);
        }
        
        .symbol-preview {
            display: flex;
            align-items: center;
            margin-top: 10px;
            padding: 10px;
            background-color: rgba(44, 62, 80, 0.5);
            border-radius: 6px;
        }
        
        .symbol-preview-char {
            font-size: 2rem;
            margin-right: 15px;
        }
        
        .symbol-preview-info {
            font-size: 0.9rem;
            color: var(--light-gray);
        }
        
        .byte-info {
            font-family: monospace;
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        footer {
            text-align: center;
            padding: 25px;
            background-color: var(--dark-gray);
            color: var(--light-gray);
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        @media (max-width: 768px) {
            .content {
                flex-direction: column;
            }
            
            .config-panel {
                margin-right: 0;
                margin-bottom: 20px;
            }
            
            .stats {
                flex-direction: column;
            }
            
            .stat-item {
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>å­—ç¬¦ç»„åˆç”Ÿæˆå™¨</h1>
            <p class="subtitle">ä¼˜åŒ–ç‰ˆ - æ”¯æŒé«˜4ä½åŒ¹é…æ£€æŸ¥</p>
        </header>
        
        <div class="content">
            <div class="config-panel">
                <h2 class="panel-title">é…ç½®å‚æ•°</h2>
                
                <div class="warning">
                    <strong>é‡è¦æç¤ºï¼š</strong> æœ¬ç‰ˆæœ¬å¦‚æœè¾“å…¥å¤šå­—ç¬¦ç¬¦å·ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨æå–ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚
                </div>
                
                <div class="form-group">
                    <label for="targetSymbol">ç›®æ ‡ç¬¦å· (ä»…æ”¯æŒå•ä¸ªå­—ç¬¦)</label>
                    <input type="text" id="targetSymbol" value="ğŸ‘…">
                </div>
                
                <div class="symbol-preview">
                    <div class="symbol-preview-char" id="symbolPreview">ğŸ‘…</div>
                    <div class="symbol-preview-info">
                        <div>å­—ç¬¦é•¿åº¦: <span id="symbolLength">1</span></div>
                        <div>Unicode: <span id="symbolUnicode">U+1F445</span></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="baseEmojis">åŸºç¡€è¡¨æƒ… (ç”¨é€—å·åˆ†éš”)</label>
                    <textarea id="baseEmojis" rows="3">ğŸ˜€,ğŸ‰,â¤ï¸,â­,âœ¨,ğŸ”¥,ğŸŒ™,ğŸ,ğŸš€,ğŸ’¡</textarea>
                </div>
                
                <div class="form-group">
                    <label for="searchRange">æœç´¢èŒƒå›´</label>
                    <select id="searchRange">
                        <option value="B">BåŒº (42,720å­—)</option>
                        <option value="BC">B+CåŒº (82,944å­—)</option>
                        <option value="all" selected>æ‰€æœ‰åˆ†åŒº (252,944å­—)</option>
                    </select>
                </div>
                
                <button id="generateBtn">ç”Ÿæˆç»„åˆ</button>
            </div>
            
            <div class="result-panel">
                <h2 class="panel-title">ç”Ÿæˆç»“æœ</h2>
                
                <div class="result-container" id="resultContainer">
                    <div style="text-align: center; padding: 40px; color: var(--light-gray);">
                        ç‚¹å‡»"ç”Ÿæˆç»„åˆ"æŒ‰é’®å¼€å§‹ç”Ÿæˆå­—ç¬¦ç»„åˆ
                    </div>
                </div>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value" id="totalCombinations">0</div>
                        <div class="stat-label">æ€»ç»„åˆæ•°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="processingTime">0ms</div>
                        <div class="stat-label">å¤„ç†æ—¶é—´</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="targetCount">0</div>
                        <div class="stat-label">ç›®æ ‡ç¬¦å·</div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>å­—ç¬¦ç»„åˆç”Ÿæˆå™¨ &copy; 2025 | ç”±æŒä½°é‡Œï¼ˆé™Œå··ï¼‰å¼€å‘</p>
        </footer>
    </div>

    <script>
        // å­—ç¬¦ç»„åˆç”Ÿæˆé€»è¾‘
        class CharacterFusionGenerator {
            // CJKæ‰©å±•å­—ç¬¦èŒƒå›´
            static CJK_RANGES = {
                'B': [0x20000, 0x2A6DF],
                'C': [0x2A700, 0x2B73F],
                'D': [0x2B740, 0x2B81F],
                'E': [0x2B820, 0x2CEAF],
                'F': [0x2CEB0, 0x2EBEF],
                'G': [0x30000, 0x3134F],
                'H': [0x31350, 0x323AF],
                'I': [0x2EBF0, 0x2EE5F]
            };
            
            constructor(baseEmojis, targetSymbol, searchRange) {
                this.baseEmojis = baseEmojis;
                this.targetSymbol = targetSymbol;
                this.searchRange = searchRange;
                this.emojiFeatures = this.preprocessEmojis();
            }
            
            preprocessEmojis() {
                const features = {};
                for (const emoji of this.baseEmojis) {
                    try {
                        const encoder = new TextEncoder();
                        const bytes = encoder.encode(emoji);
                        
                        if (bytes.length === 4) {
                            features[emoji] = {
                                bytes: bytes,
                                high4bits: bytes[2] & 0xF0
                            };
                        }
                    } catch (error) {
                        console.warn(`å¤„ç†è¡¨æƒ…ç¬¦å· ${emoji} æ—¶å‡ºé”™:`, error);
                    }
                }
                return features;
            }
            
            extractTargetFeatures(targetChar) {
                try {
                    const encoder = new TextEncoder();
                    const bytes = encoder.encode(targetChar);
                    
                    if (bytes.length !== 4) return null;
                    
                    return {
                        bytes: bytes,
                        low4bits: bytes[2] & 0x0F,
                        high4bits: bytes[2] & 0xF0,
                        byte4: bytes[3]
                    };
                } catch (error) {
                    console.error(`æå–ç›®æ ‡ç¬¦å·ç‰¹å¾æ—¶å‡ºé”™:`, error);
                    return null;
                }
            }
            
            // æ£€æŸ¥é«˜4ä½åŒ¹é…
            checkHigh4bitsMatch(targetFeatures) {
                const targetHigh4bits = targetFeatures.high4bits;
                let matchingEmojis = [];
                
                for (const [emoji, emojiData] of Object.entries(this.emojiFeatures)) {
                    if (emojiData.high4bits === targetHigh4bits) {
                        matchingEmojis.push(emoji);
                    }
                }
                
                return {
                    matched: matchingEmojis.length > 0,
                    emojis: matchingEmojis
                };
            }
            
            findFusions() {
                const targetFeatures = this.extractTargetFeatures(this.targetSymbol);
                if (!targetFeatures) return [];
                
                // æ£€æŸ¥é«˜4ä½åŒ¹é…
                const high4bitsMatch = this.checkHigh4bitsMatch(targetFeatures);
                if (!high4bitsMatch.matched) return [];
                
                const results = [];
                // ç¡®å®šè¦æœç´¢çš„èŒƒå›´
                const rangesToSearch = this.getSearchRanges();
                
                for (const rangeName of rangesToSearch) {
                    const [start, end] = CharacterFusionGenerator.CJK_RANGES[rangeName];
                    
                    for (let codePoint = start; codePoint <= end; codePoint++) {
                        try {
                            const char = String.fromCodePoint(codePoint);
                            const encoder = new TextEncoder();
                            const bytes = encoder.encode(char);
                            
                            if (bytes.length !== 4) continue;
                            
                            // å¿«é€Ÿç­›é€‰
                            if (bytes[3] !== targetFeatures.byte4) continue;
                            if ((bytes[2] & 0x0F) !== targetFeatures.low4bits) continue;
                            
                            // ä¸æ‰€æœ‰åŸºç¡€è¡¨æƒ…ç»„åˆ
                            for (const [emoji, emojiData] of Object.entries(this.emojiFeatures)) {
                                // ç»„åˆç”Ÿæˆ
                                const mixedByte = emojiData.high4bits | (bytes[2] & 0x0F);
                                const generatedBytes = new Uint8Array([
                                    emojiData.bytes[0],
                                    emojiData.bytes[1],
                                    mixedByte,
                                    targetFeatures.bytes[3]
                                ]);
                                
                                // éªŒè¯åŒ¹é…
                                if (this.compareBytes(generatedBytes, targetFeatures.bytes)) {
                                    results.push({
                                        base: emoji,
                                        hanzi: char,
                                        unicode: `U+${codePoint.toString(16).toUpperCase().padStart(6, '0')}`,
                                        range: rangeName,
                                        target: this.targetSymbol
                                    });
                                }
                            }
                        } catch (error) {
                            console.warn(`å¤„ç†å­—ç¬¦ U+${codePoint.toString(16)} æ—¶å‡ºé”™:`, error);
                        }
                    }
                }
                
                return results;
            }
            
            getSearchRanges() {
                switch (this.searchRange) {
                    case 'B': return ['B'];
                    case 'BC': return ['B', 'C'];
                    default: return Object.keys(CharacterFusionGenerator.CJK_RANGES);
                }
            }
            
            compareBytes(a, b) {
                if (a.length !== b.length) return false;
                for (let i = 0; i < a.length; i++) {
                    if (a[i] !== b[i]) return false;
                }
                return true;
            }
        }
        
        // DOMæ“ä½œå’Œäº‹ä»¶å¤„ç†
        document.addEventListener('DOMContentLoaded', () => {
            const generateBtn = document.getElementById('generateBtn');
            const targetSymbolInput = document.getElementById('targetSymbol');
            const symbolPreview = document.getElementById('symbolPreview');
            const symbolLength = document.getElementById('symbolLength');
            const symbolUnicode = document.getElementById('symbolUnicode');
            
            // æ›´æ–°ç¬¦å·é¢„è§ˆ
            function updateSymbolPreview() {
                const symbol = targetSymbolInput.value;
                symbolPreview.textContent = symbol;
                
                // è®¡ç®—å­—ç¬¦é•¿åº¦
                const length = [...symbol].length;
                symbolLength.textContent = length;
                
                // è·å–Unicode
                if (symbol.length > 0) {
                    const codePoint = symbol.codePointAt(0);
                    symbolUnicode.textContent = `U+${codePoint.toString(16).toUpperCase()}`;
                } else {
                    symbolUnicode.textContent = 'æ— ';
                }
            }
            
            // åˆå§‹åŒ–é¢„è§ˆ
            updateSymbolPreview();
            
            // ç›‘å¬è¾“å…¥å˜åŒ–
            targetSymbolInput.addEventListener('input', updateSymbolPreview);
            
            // ç”ŸæˆæŒ‰é’®ç‚¹å‡»äº‹ä»¶
            generateBtn.addEventListener('click', generateCombinations);
        });
        
        function generateCombinations() {
            // è·å–è¾“å…¥å€¼
            const targetSymbol = document.getElementById('targetSymbol').value;
            const baseEmojis = document.getElementById('baseEmojis').value
                .split(',')
                .map(s => s.trim())
                .filter(s => s.length > 0);
                
            const searchRange = document.getElementById('searchRange').value;
            
            if (!targetSymbol) {
                alert('è¯·è¾“å…¥ç›®æ ‡ç¬¦å·');
                return;
            }
            
            if (baseEmojis.length === 0) {
                alert('è¯·æä¾›åŸºç¡€è¡¨æƒ…');
                return;
            }
            
            // æ£€æŸ¥å­—ç¬¦é•¿åº¦
            const symbolLength = [...targetSymbol].length;
            if (symbolLength > 1) {
                // æå–ç¬¬ä¸€ä¸ªå­—ç¬¦
                const firstChar = [...targetSymbol][0];
                document.getElementById('targetSymbol').value = firstChar;
                updateSymbolPreview();
                
                // æ˜¾ç¤ºè­¦å‘Š
                const resultContainer = document.getElementById('resultContainer');
                resultContainer.innerHTML = `
                    <div class="warning">
                        <strong>æ³¨æ„ï¼š</strong> æ£€æµ‹åˆ°å¤šå­—ç¬¦ç¬¦å· "${targetSymbol}" (é•¿åº¦: ${symbolLength})ï¼Œ
                        å·²è‡ªåŠ¨æå–ç¬¬ä¸€ä¸ªå­—ç¬¦ "${firstChar}" ä½œä¸ºç›®æ ‡ç¬¦å·ã€‚
                    </div>
                `;
                
                // å»¶è¿Ÿæ‰§è¡Œä»¥æ˜¾ç¤ºè­¦å‘Š
                setTimeout(() => generateCombinations(), 1000);
                return;
            }
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            const resultContainer = document.getElementById('resultContainer');
            resultContainer.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 1.2rem; margin-bottom: 20px;">æ­£åœ¨ç”Ÿæˆç»„åˆ...</div>
                    <div style="width: 50px; height: 50px; border: 5px solid rgba(236, 240, 241, 0.2); border-top: 5px solid var(--accent-color); border-radius: 50%; margin: 0 auto; animation: spin 1s linear infinite;"></div>
                </div>
            `;
            
            // æ·»åŠ CSSåŠ¨ç”»
            const style = document.createElement('style');
            style.innerHTML = `@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }`;
            document.head.appendChild(style);
            
            // ä½¿ç”¨setTimeoutç¡®ä¿UIæ›´æ–°åå†æ‰§è¡Œè®¡ç®—
            setTimeout(() => {
                try {
                    // åˆ›å»ºç”Ÿæˆå™¨å®ä¾‹
                    const generator = new CharacterFusionGenerator(baseEmojis, targetSymbol, searchRange);
                    
                    // æå–ç›®æ ‡ç‰¹å¾
                    const targetFeatures = generator.extractTargetFeatures(targetSymbol);
                    
                    if (!targetFeatures) {
                        resultContainer.innerHTML = `
                            <div class="warning">
                                <strong>é”™è¯¯ï¼š</strong> ç›®æ ‡å­—ç¬¦å¿…é¡»æ˜¯4å­—èŠ‚UTF-8ç¼–ç 
                                <div class="byte-info">å½“å‰å­—ç¬¦ç¼–ç é•¿åº¦ä¸ç¬¦åˆè¦æ±‚</div>
                            </div>
                        `;
                        return;
                    }
                    
                    // æ£€æŸ¥é«˜4ä½åŒ¹é…
                    const high4bitsMatch = generator.checkHigh4bitsMatch(targetFeatures);
                    
                    if (!high4bitsMatch.matched) {
                        resultContainer.innerHTML = `
                            <div class="warning">
                                <strong>é”™è¯¯ï¼š</strong> ç›®æ ‡å­—ç¬¦çš„é«˜4ä½ä¸ä»»ä½•åŸºç¡€è¡¨æƒ…éƒ½ä¸åŒ¹é…
                                <div class="byte-info">ç›®æ ‡å­—ç¬¦é«˜4ä½: 0x${(targetFeatures.high4bits).toString(16).toUpperCase().padStart(2, '0')}</div>
                                <div class="byte-info">è¯·æ·»åŠ åŒ¹é…çš„åŸºç¡€è¡¨æƒ…</div>
                            </div>
                        `;
                        return;
                    }
                    
                    // ç”Ÿæˆç»„åˆ
                    const startTime = performance.now();
                    const results = generator.findFusions();
                    const procTime = performance.now() - startTime;
                    
                    // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
                    document.getElementById('totalCombinations').textContent = results.length;
                    document.getElementById('processingTime').textContent = `${procTime.toFixed(1)}ms`;
                    document.getElementById('targetCount').textContent = 1;
                    
                    // æ˜¾ç¤ºç»“æœ
                    displayResults(results, targetSymbol);
                } catch (error) {
                    console.error('ç”Ÿæˆç»„åˆæ—¶å‡ºé”™:', error);
                    resultContainer.innerHTML = `
                        <div style="text-align: center; padding: 40px; color: #e74c3c;">
                            <h3>ç”Ÿæˆç»„åˆæ—¶å‡ºé”™</h3>
                            <p>${error.message}</p>
                            <p>è¯·æ£€æŸ¥è¾“å…¥å‚æ•°åé‡è¯•</p>
                        </div>
                    `;
                }
            }, 100);
        }
        
        function displayResults(results, targetSymbol) {
            const resultContainer = document.getElementById('resultContainer');
            
            if (results.length === 0) {
                resultContainer.innerHTML = `
                    <div class="result-section">
                        <div class="result-header">
                            <span>${targetSymbol}</span>
                            <span>æœªæ‰¾åˆ°ç»„åˆ</span>
                        </div>
                        <div class="warning">
                            æœªæ‰¾åˆ°ç”Ÿæˆè¯¥ç¬¦å·çš„æœ‰æ•ˆç»„åˆï¼Œè¯·å°è¯•ï¼š
                            <ul>
                                <li>æ·»åŠ æ›´å¤šåŸºç¡€è¡¨æƒ…</li>
                                <li>æ‰©å¤§æœç´¢èŒƒå›´</li>
                                <li>å°è¯•å…¶ä»–ç›®æ ‡ç¬¦å·</li>
                            </ul>
                        </div>
                    </div>
                `;
                return;
            }
            
            let html = '';
            
            // æŒ‰åˆ†åŒºåˆ†ç»„ç»“æœ
            const rangeGroups = {};
            for (const result of results) {
                const range = result.range;
                if (!rangeGroups[range]) {
                    rangeGroups[range] = [];
                }
                rangeGroups[range].push(result);
            }
            
            // æ˜¾ç¤ºæ¯ä¸ªåˆ†åŒºçš„ç»“æœ
            for (const [rangeName, combos] of Object.entries(rangeGroups)) {
                html += `
                    <div class="result-section">
                        <div class="result-header">
                            <span>${targetSymbol} - ${rangeName}åŒº</span>
                            <span>${combos.length}ç§ç»„åˆ</span>
                        </div>
                        <div class="result-content">
                `;
                
                for (const combo of combos) {
                    html += `
                        <div class="combo-item">
                            <div class="combo-char">${combo.target}</div>
                            <div class="combo-details">
                                <div class="combo-formula">${combo.base} + ${combo.hanzi}</div>
                                <div class="combo-info">Unicode: ${combo.unicode} | åˆ†åŒº: ${combo.range}åŒº</div>
                            </div>
                        </div>
                    `;
                }
                
                html += `
                        </div>
                    </div>
                `;
            }
            
            resultContainer.innerHTML = html;
        }
        
        // æ›´æ–°ç¬¦å·é¢„è§ˆ
        function updateSymbolPreview() {
            const symbol = document.getElementById('targetSymbol').value;
            const symbolPreview = document.getElementById('symbolPreview');
            const symbolLength = document.getElementById('symbolLength');
            const symbolUnicode = document.getElementById('symbolUnicode');
            
            symbolPreview.textContent = symbol;
            
            // è®¡ç®—å­—ç¬¦é•¿åº¦
            const length = [...symbol].length;
            symbolLength.textContent = length;
            
            // è·å–Unicode
            if (symbol.length > 0) {
                const codePoint = symbol.codePointAt(0);
                symbolUnicode.textContent = `U+${codePoint.toString(16).toUpperCase()}`;
            } else {
                symbolUnicode.textContent = 'æ— ';
            }
        }
    </script>
</body>
</html>
